- type: entity
  abstract: true
  parent: BaseObjective
  id: BaseBloodBrotherObjective
  components:
  - type: Objective
    issuer: objective-issuer-syndicate
  - type: RoleRequirement
    roles:
    - BloodBrotherRole
  - type: BloodBrotherSharedCondition

- type: entity
  abstract: true
  parent: BaseBloodBrotherObjective
  id: BaseBloodBrotherStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    verifyMapExistence: false
    objectiveNoOwnerText: objective-condition-steal-title-no-owner
    objectiveText: objective-condition-steal-title
    descriptionText: objective-condition-steal-description
    descriptionMultiplyText: objective-condition-thief-multiply-description
  - type: Objective
    difficulty: 2
  - type: ObjectiveLimit
    limit: 2

- type: entity
  abstract: true
  parent: BaseBloodBrotherObjective
  id: BaseBloodBrotherKillObjective
  components:
  - type: Objective
    difficulty: 1.75
    unique: false
    icon:
      sprite: Objects/Weapons/Guns/Pistols/viper.rsi
      state: icon
  - type: TargetObjective
    title: objective-condition-maroon-person-title
  - type: BloodBrotherSharedKillCondition
  - type: BloodBrotherSharedCondition
    requireBothAlive: false

# Escape
- type: entity
  parent: BaseBloodBrotherObjective
  id: BloodBrotherSharedEscapeObjective
  name: Escape to centcomm alive and unrestrained with your brother.
  description: Both you and your blood brother must escape to centcomm alive and unrestrained.
  components:
  - type: Objective
    difficulty: 0
    icon:
      sprite: Structures/Furniture/chairs.rsi
      state: shuttle
  - type: BloodBrotherSharedEscapeCondition

- type: entity
  parent: BaseBloodBrotherObjective
  id: BloodBrotherSharedHijackShuttleObjective
  name: Hijack evacuation shuttle with your blood brother
  description: Work together with your blood brother to hijack the evacuation shuttle. Both of you must be on board and eliminate or restrain all non-antagonist crew members.
  components:
  - type: Objective
    difficulty: 5 # insane, default config max difficulty
    icon:
      sprite: Objects/Tools/emag.rsi
      state: icon
  - type: BloodBrotherSharedHijackCondition

# Protected
- type: entity
  parent: BaseBloodBrotherObjective
  id: BloodBrotherSharedProtectRandomPersonObjective
  description: Ensure the target survives until the end of the shift together with your blood brother.
  components:
  - type: Objective
    difficulty: 1.5
    unique: false
    icon:
      sprite: Objects/Misc/folders.rsi
      state: folder-colormap
  - type: TargetObjective
    title: objective-condition-keep-alive-title
  - type: PickRandomPerson
    filters:
    - !type:HasRoleMindFilter
      inverted: true
      whitelist:
        components:
        - BloodBrotherRole
    - !type:BodyMindFilter
      inverted: true
      whitelist:
        components:
        - CommandStaff
    - !type:TargetObjectiveMindFilter
      blacklist:
        components:
        - BloodBrotherSharedKillCondition
        - BloodBrotherSharedKeepAliveCondition
  - type: BloodBrotherSharedKeepAliveCondition
  - type: BloodBrotherSharedCondition
    requireBothAlive: false

# Kill
- type: entity
  parent: BaseBloodBrotherKillObjective
  id: BloodBrotherSharedKillRandomPersonObjective
  description: Ensure the target does not escape the station alive together with your blood brother. You can eliminate or capture them - the choice is yours.
  components:
  - type: PickRandomPerson
    filters:
    - !type:HasRoleMindFilter
      inverted: true
      whitelist:
        components:
        - BloodBrotherRole
    - !type:TargetObjectiveMindFilter
      blacklist:
        components:
        - BloodBrotherSharedKillCondition

- type: entity
  parent: BaseBloodBrotherKillObjective
  id: BloodBrotherSharedEliminateRandomPersonObjective
  description: Work together with your blood brother to assassinate the target. Use stealth and cunning methods for this delicate operation.
  components:
  - type: TargetObjective
    title: objective-condition-kill-title
  - type: PickRandomPerson
    filters:
    - !type:HasRoleMindFilter
      inverted: true
      whitelist:
        components:
        - BloodBrotherRole
    - !type:TargetObjectiveMindFilter
      blacklist:
        components:
        - BloodBrotherSharedKillCondition
  - type: BloodBrotherSharedKillCondition
    requireMaroon: false

- type: entity
  parent: BaseBloodBrotherKillObjective
  id: BloodBrotherSharedEliminateRandomHeadObjective
  description: Work together with your blood brother to assassinate the department head. This is a high-profile target - use discretion and coordination.
  components:
  - type: Objective
    difficulty: 3.0
    unique: true
  - type: TargetObjective
    title: objective-condition-kill-title
  - type: PickRandomPerson
    filters:
    - !type:HasRoleMindFilter
      inverted: true
      whitelist:
        components:
        - BloodBrotherRole
    - !type:BodyMindFilter
      whitelist:
        components:
        - CommandStaff
    - !type:TargetObjectiveMindFilter
      blacklist:
        components:
        - BloodBrotherSharedKillCondition
  - type: BloodBrotherSharedKillCondition
    requireMaroon: false

# Steal

## CMO

- type: entity
  abstract: true
  parent: BaseBloodBrotherStealObjective
  id: BaseBloodBrotherCMOStealObjective
  components:
  - type: NotJobRequirement
    jobs: [ ChiefMedicalOfficer ]
  - type: BloodBrotherSharedStealCondition
    owner: job-name-cmo

- type: entity
  parent: BaseBloodBrotherCMOStealObjective
  id: BloodBrotherSharedCMOHyposprayStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: Hypospray

- type: entity
  parent: BaseBloodBrotherCMOStealObjective
  id: BloodBrotherSharedCMOCrewMonitorStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: HandheldCrewMonitor

## RD

- type: entity
  abstract: true
  parent: BaseBloodBrotherStealObjective
  id: BaseBloodBrotherRDStealObjective
  components:
  - type: NotJobRequirement
    jobs: [ ResearchDirector ]
  - type: BloodBrotherSharedStealCondition
    owner: job-name-rd

- type: entity
  parent: BaseBloodBrotherRDStealObjective
  id: BloodBrotherSharedRDHardsuitStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: ClothingOuterHardsuitRd
  - type: Objective
    difficulty: 3

- type: entity
  parent: BaseBloodBrotherRDStealObjective
  id: BloodBrotherSharedHandTeleporterStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: HandTeleporter

## HOS

- type: entity
  parent: BaseBloodBrotherStealObjective
  id: BloodBrotherSharedEnergyMagnumStealObjective
  components:
  - type: Objective
    # HoS will have this on them a lot of the time so..
    difficulty: 3
  - type: NotJobRequirement
    jobs: [ HeadOfSecurity ]
  - type: BloodBrotherSharedStealCondition
    stealGroup: WeaponEnergyMagnum
    owner: job-name-hos

## CE

- type: entity
  parent: BaseBloodBrotherStealObjective
  id: BloodBrotherSharedMagbootsStealObjective
  components:
  - type: NotJobRequirement
    jobs: [ ChiefEngineer ]
  - type: BloodBrotherSharedStealCondition
    stealGroup: ClothingShoesBootsMagAdv
    owner: job-name-ce

## QM

- type: entity
  parent: BaseBloodBrotherStealObjective
  id: BloodBrotherSharedClipboardStealObjective
  components:
  - type: NotJobRequirement
    jobs: [ Quartermaster ]
  - type: BloodBrotherSharedStealCondition
    stealGroup: BoxFolderQmClipboard
    owner: job-name-qm

## Captain

- type: entity
  abstract: true
  parent: BaseBloodBrotherStealObjective
  id: BaseBloodBrotherCaptainObjective
  components:
  - type: Objective
    difficulty: 3.5
  - type: NotJobRequirement
    jobs: [ Captain ]
  - type: BloodBrotherSharedStealCondition
    owner: job-name-captain

- type: entity
  parent: BaseBloodBrotherCaptainObjective
  id: BloodBrotherSharedCaptainIDStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: CaptainIDCard

- type: entity
  parent: BaseBloodBrotherCaptainObjective
  id: BloodBrotherSharedCaptainJetpackStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: JetpackCaptainFilled

- type: entity
  parent: BaseBloodBrotherCaptainObjective
  id: BloodBrotherSharedCaptainGunStealObjective
  components:
  - type: BloodBrotherSharedStealCondition
    stealGroup: WeaponAntiqueLaser

## Warden

- type: entity
  parent: BaseBloodBrotherStealObjective
  id: BloodBrotherSharedGlovesKravMagaStealObjective
  components:
  - type: Objective
    difficulty: 3
  - type: NotJobRequirement
    jobs: [ Warden ]
  - type: BloodBrotherSharedStealCondition
    stealGroup: GlovesKravMaga
    owner: job-name-warden

## Blue Shield Officer

- type: entity
  parent: BaseBloodBrotherStealObjective
  id: BloodBrotherSharedBlueLaserPistolStealObjective
  components:
  - type: Objective
    difficulty: 3
  - type: NotJobRequirement
    jobs: [ BlueShieldOfficer ]
  - type: BloodBrotherSharedStealCondition
    verifyMapExistence: true
    stealGroup: WeaponBlueLaserPistol
    owner: job-name-bso
